---
import FirstPlayerDecision from "../components/FirstPlayerDecision.astro";
---

<div>
  <div class="wrapper">
    <div class="reversi-home-screen">
      <h2 class="section-title">Reversi</h2>
      <div class="flex">
        <input
          class="opponent-player click-color"
          type="button"
          data-value="Solo-player"
          value="Solo Play"
        />
        <input
          class="opponent-player"
          type="button"
          data-value="two-player"
          value="Two Paly"
        />
      </div>
      <div class="start-click">
        <input type="button" class="game-start" value="START" />
      </div>
    </div>
  </div>
  <div class="first_player_decision_display">
    hello
    <FirstPlayerDecision />
  </div>
</div>

<style>
  .wrapper {
    max-width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 1s;
  }

  .reversi-home-screen {
    max-width: 800px;
    margin: 0 auto;
    padding: 10px;
  }

  .section-title {
    font-size: 100px;
    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
    text-align: center;
    margin-bottom: 20px;
  }

  .flex {
    display: flex;
    justify-content: space-between;
  }

  .opponent-player {
    font-size: 1.1rem;
    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
    padding: 20px 50px;
    margin: 15px;
    border-radius: 10px;
    border: solid 2px #586365;
    transition: all 0.3s;
  }

  .opponent-player:hover {
    opacity: 0.8;
  }

  .start-click {
    text-align: center;
  }

  .game-start {
    width: 350px;
    font-size: 1.5rem;
    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
    padding: 20px 50px;
    margin: 15px;
    border-radius: 10px;
    border: solid 2px #586365;
    transition: all 0.2s;
  }

  .game-start:hover {
    opacity: 0.8;
  }

  .game-start:active {
    background-color: aquamarine;
  }

  .click-color {
    background-color: #ffe67d;
  }

  .first_player_decision_display {
    display: none;
    width: 50%;
    height: 100px;
    background-color: #ffe67d;
    opacity: 0;
    transition: all 1s;
  }

  @media (max-width: 500px) {
    .section-title {
      font-size: 80px;
    }

    .opponent-player {
      font-size: 1rem;
      padding: 15px 35px;
      margin: 15px;
      border-radius: 10px;
    }

    .game-start {
      width: 280px;
      font-size: 1.5rem;
      padding: 20px 50px;
      margin: 15px;
    }
  }
</style>

<script>
  const one_player = "Solo-player";
  const two_player = "two-player";
  let Opponents = "";

  const player = document.querySelectorAll<HTMLElement>(".opponent-player");
  for (const palyer_list of player) {
    palyer_list.addEventListener("click", function () {
      const background_color =
        document.querySelector<HTMLElement>(".click-color");
      background_color.classList.remove("click-color");
      palyer_list.classList.toggle("click-color");
    });
  }

  const game_start = document.querySelector<HTMLElement>(".start-click");
  game_start.addEventListener("click", function () {
    const opponent_player = document.querySelector<HTMLElement>(".click-color");
    const game_screen = document.querySelector<HTMLElement>(".wrapper");
    const first_player_decision_display = document.querySelector<HTMLElement>(
      ".first_player_decision_display"
    );

    // test
    // if (opponent_player.getAttribute("data-value") == "Solo-player") {
    //   Opponents = one_player;
    //   console.log(Opponents);
    // } else if (opponent_player.getAttribute("data-value") == "two-player") {
    //   Opponents = two_player;
    //   console.log(Opponents);
    // }

    game_screen.style.opacity = "0";
    setTimeout(function () {
      game_screen.style.display = "none";
      first_player_decision_display.style.display = "flex";
    }, 1100);
    setTimeout(function () {
      first_player_decision_display.style.opacity = "1";
    }, 2000);
  });
</script>
